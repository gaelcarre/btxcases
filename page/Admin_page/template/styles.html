<h1>Gestion des styles de musique</h1>
<a href="admin">Accueil Admin</a>
<div class="row-fluid">
	<p>
		C'est ce qui donnera entre autre le menu.
	</p>
	<hr>
</div>
<div class="row-fluid">
	<div class="span12"><button class="btn" id="ajouterDesc">Ajouter un style</button></div>
</div>

<div class="row-fluid" id="new_item_desc">
	<form action="admin/addStyle" method="POST" class="form-horizontal" enctype="multipart/form-data">
		<div class="control-group">
			<div class="controls">
				<input type="text" name="item_title" placeholder="Titre" required />	
			</div>
		</div>
		<div class="control-group">
			<div class="controls">
				<label class="control-label" for="inputImage">Image:</label>
			    <div class="controls">
			      <input type="file" id="inputImage" name="item_image">
			    </div>
			</div>
		</div>
		<div class="control-group">
			<div class="controls">
				<button class="btn btn-success">Enregistrer</button>
			</div>
		</div>
	</form>
</div>
<div class="row-fluid styles_items">
	{foreach from=$styles item=style}
		<div class="row-fluid" id="{$style->getId()}">
			<h1>{$style->getTitle()}</h1>
		</div>
		<table class="table table-striped table-bordered">
			{foreach from=$langues item=lng}
				{assign var="description" value=$style->getDescriptionForLng($lng)}
				<tr>
					<td>{$lng}</td>
					{if $description}
						<td>
							<div class="read">
								{$description->getDescription()}
							</div>
							<div class="edit">
								<textarea cols="50" rows="5" required>{$description->getDescription()}</textarea>
							</div>
						</td>
						<td>
							<i class="icon-pencil" data-id="{$description->getId()}"></i>
							<i class="icon-remove" data-id="{$description->getId()}"></i>
							<i class="icon-ok" data-id="{$description->getId()}"></i>
						</td>
						
					{else}
						<td>
							<div class="read">
								Aucune description pour la langue {$lng}
								<button class="btn btnAddDesc">Ajouter une description</button>
							</div>
							<div class="edit">
								<textarea cols="50" rows="5" required></textarea>
								<button class="btn btn-success validSaveDesc" data-id="{$style->getId()}" data-lng="{$lng}">Sauvegarder</button>
							</div>
						</td>
					{/if}
				</tr>
			{/foreach}
		</table>
		<div class="row-fluid">
			<hr>
		</div>
	{/foreach}
</div>

